{% extends "layout.html" %}

{% block menu %}
    <li class="nav-item">
        <a href="/report" aria-label="Toggle navigation">Report</a>
    </li>
{% endblock %}

{% block content %}
    <div class="feature section">
        <div class="feature-box">
            <div class="row">
                <div class="col-lg-4">
                    <h4 class="text-title">Select Marketplace</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <select>
                        <option value="0" >
                            Binance Crypto Exchange
                        </option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <h4 class="text-title">Select Trading Pair</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <select>
                        <option value="0" >
                            ETH
                        </option>
                    </select>
                </div>
                <div class="col-lg-6">
                    <select>
                        <option value="0" >
                            USDC
                        </option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="row">
                        <h4 class="text-title">Upper Price Limit</h4>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <input type="number" value="3000" />
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="row">
                        <h4 class="text-title">Lower Price Limit</h4>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <input type="number" value="2500" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="row">
                        <h4 class="text-title">Deposite Amount</h4>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <input type="number" value="30" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="row">
                        <h4 class="text-title">Grid Quantity</h4>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <input type="number" value="10" />
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="row">
                        <h4 class="text-title">Quantity per Grid</h4>
                    </div>
                    <div class="row">
                        <div class="col-8">
                            <input type="number" value="0.001" />
                        </div>
                        <div class="col-4">
                            <select>
                                <option value="0" >
                                    ETH
                                </option>
                                <option value="1" >
                                    USDC
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="row">
                        <h4 class="text-title">Start Date</h4>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <input type="text" class="datepicker form-control clickable input-md" id="StartDate" placeholder="Select Start Date">
                              </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="row">
                        <h4 class="text-title">End Date</h4>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <input type="text" class="datepicker form-control clickable input-md" id="EndDate" placeholder="Select End Date">
                              </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-6">
                            <h4 class="text-title">Profit</h4>
                        </div>
                        <div class="offset-lg-5 col-lg-1" style="align-self: center;">
                            <button class="btn btn-primary">
                                <i class="lni lni-reload"></i>
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <canvas id="profit" width="100%"></canvas>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="offset-lg-1 col-lg-4">
                    <div class="row">
                        <h4 class="text-title">Total Profit</h4>
                    </div>
                    <div class="row">
                        <div id="total_profit" class="btn btn-lg btn-outline-primary">
                            $ 31,125
                        </div>
                    </div>
                </div>
                <div class="offset-lg-2 col-lg-4">
                    <div class="row">
                        <h4 class="text-title">APY</h4>
                    </div>
                    <div class="row">
                        <div id="total_profit" class="btn btn-lg btn-outline-primary">
                            125.36 %
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block custom_js %}
    <script>
        const ctx = document.getElementById('profit').getContext('2d');

        let labels = [];
        let profit = [];
        let total = 0;

        for(let i = 0 ; i < 365; i ++) {
            total += Math.random() * Math.sqrt(i);
            labels.push(i);
            profit.push(total);
        }

        const data = {
            labels: labels,
            datasets: [{
                label: 'ETH / USDC',
                backgroundColor: 'rgb(255, 99, 132)',
                borderColor: 'rgb(255, 99, 132)',
                data: profit,
                pointRadius: 0,
                pointHoverRadius: 0
            }]
        };

        const config = {
            type: 'line',
            data: data,
            options: {
                plugins: {
                    filler: {
                        propagate: false,
                    },
                },
                interaction: {
                    intersect: false,
                }
            },
        };

        const myChart = new Chart(ctx, config);
    </script>
{% endblock %}